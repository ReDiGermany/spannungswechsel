<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=9"/>
		<meta name="robots" content="noindex, follow"/>
        <meta name="generator" content="Doxygen 1.9.1"/>
        <title>Programming Guidelines: How to move to ZED SDK 3.0 | API Reference | Stereolabs</title><!--END PROJECT_NAME (ZED SDK 3)-->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,400,500,600,700,800">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,400,500,600,700">
        <link href="tabs.css?t=Tue Oct 25 2022 21:20:35" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="jquery.js?t=Tue Oct 25 2022 21:20:35"></script>
        <script type="text/javascript" src="custom.js?t=Tue Oct 25 2022 21:20:35"></script>
        <script type="text/javascript" src="dynsections.js?t=Tue Oct 25 2022 21:20:35"></script>
        <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
        <link href="stylesheet.css?t=Tue Oct 25 2022 21:20:35" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div id="titlearea">
                <table cellspacing="0" cellpadding="0">
                    <tbody>
                        <tr style="height: 58px;">
                            <td class="headerSpacer"></td>
                            <td id="projectlogo">
                                <a href="https://www.stereolabs.com"><img src="https://www.stereolabs.com/img/logo_stereolabs.svg" alt="Stereolabs logo" id="logo"></a>
                            </td>
                            <td class="nav-links nav-links-header">
                                <a href="https://www.stereolabs.com/docs/" >DOCUMENTATION</a>
                            </td>
                            <td class="nav-links nav-links-header">
                                <a href="https://www.stereolabs.com/docs/code-samples/" >SAMPLES</a>
                            </td>
                            <td class="nav-links nav-links-header">
                                <a class="active" href="https://www.stereolabs.com/developers/documentation/API/latest/" >API REFERENCE</a>
                            </td>
                            <td class="nav-links nav-links-header">
                                <a href="https://support.stereolabs.com/hc/en-us" >SUPPORT</a>
                            </td>
                            <td class="nav-links nav-links-header">
                                <a href="https://www.stereolabs.com/developers/release/latest/" >DOWNLOADS</a>
                            </td>
                            <td><i class="mobile-navigation"></i></td>
                            <!--<td id="projectlogo" >
                                <a href="https://www.stereolabs.com/"> <img alt="Logo" src="logo_stereolabs.png" height="27"/> </a>
                            </td>-->
                            <!--<td style="padding-left: 0.4cm;">-->
                                <!--<div id="projectname">--><!--ZED SDK 3-->
                                    <!--<span id="projectnumber"> | ZED SDK 3.8.1</span>-->
                                <!--</div>-->
                                <!--BEGIN PROJECT_BRIEF<div id="projectbrief"></div><!--END PROJECT_BRIEF-->
                            <!--</td>-->
                            <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="subtitlearea">
                <table cellspacing="0" cellpadding="0">
                    <tbody>
                        <tr style="height: 28px;">
                            <td class="headerSpacer"></td>
                            <td id="subMenuCpp" class="nav-links nav-links-header nav-links-selected">
                                <a href="https://www.stereolabs.com/docs/api/"  >C++</a>
                            </td>
                            <td id="subMenuPython" class="nav-links nav-links-header">
                                <a href="https://www.stereolabs.com/docs/api/python/" >Python</a>
                            </td>
                            <td id="subMenuCSharp" class="nav-links nav-links-header">
                                <a href="https://www.stereolabs.com/docs/api/csharp/" >C#</a>
                            </td>
                            <td id="subMenuC" class="nav-links nav-links-header">
                                <a href="https://www.stereolabs.com/docs/api/c/" >C</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_migration_guide_3_0.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Programming Guidelines: How to move to ZED SDK 3.0 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2 style="text-align: left;">Introduction</h2>
<p>This major release follows <a href="https://semver.org/">Semantic Versioning</a> more strictly than before. This means that each minor version is guaranteed to be API compatible and each patch version is guaranteed to be binary compatible. This major release therefore introduces some breaking changes.</p>
<p>The ZED SDK v3.0 continues to follow the architecture of previous versions. It is separated into different modules: Video, Depth, Positional Tracking, Spatial Mapping, and the new Object Detection module. Each module can be configured through dedicated parameters. The new API is clearer and more consistent, which facilitates its integration and development.</p>
<p>Since there are a lot of changes from ZED SDK v2.8, this tutorial will help you switch from 2.8 to 3.0.</p>
<h2 style="text-align: left;">ZED SDK Content Changes</h2>
<p>The ZED SDK is still installed in <em>Program Files/ZED SDK/</em> on Windows and */usr/local/zed/* on Linux.</p>
<ul>
<li>All headers are now amalgamated into a single one: <code>sl/Camera.hpp</code></li>
<li>The ZED SDK is now contained into a single <code>sl_zed</code> library (sl_zed64.dll or libsl_zed.so)</li>
</ul>
<h2 style="text-align: left;">ZED SDK Code Changes</h2>
<h2><a class="anchor" id="autotoc_md512"></a>
Overview</h2>
<ul>
<li>Adding support for the new ZED2 camera.</li>
<li><code>Camera::grab()</code> function is now blocking: each call waits for a new image. If the camera is connected (or the SVO file isn't finished) the call is guaranteed to compute everything on a new frame. <code>ERROR_CODE_NOT_A_NEW_FRAME</code> has been removed accordingly. If the camera is disconnected, the <code>grab()</code> function will time out and return <code>ERROR_CODE::CAMERA_NOT_DETECTED</code>. For SVO files, if the end of file is reached, it will return a new error code created specifically for this: <code>ERROR_CODE::END_OF_SVOFILE_REACHED</code>.</li>
<li>ENUMs have been refactored under the following convention: <code>ENUM_NAME::VALUE</code> instead of the current <code>ENUM_NAME::ENUM_NAME_VALUE</code> or sometimes <code>ENUM_NAME_VALUE</code>.<br  />
 For example, the 2K resolution is now set with <code>RESOLUTION::HD2K</code> instead of <code>RESOLUTION::RESOLUTION_HD2K</code> or <code>RESOLUTION_HD2K</code>.</li>
<li>All deprecated functions have been removed such as :<ul>
<li>Self-calibration functions : <code>resetSelfCalibration()</code> and <code>getSelfCalibrationState()</code>.</li>
<li><code>setCameraFPS()</code></li>
<li><code>SticktoCPUCore()</code></li>
<li><code>isZEDConnected()</code> (use <code>getDeviceList().size()</code> instead)</li>
</ul>
</li>
<li>Every module parameter can now be retrieved directly from <code>Camera</code>, such as <code>Camera::getInitParameters()</code>, <code>Camera::getPositionalTrackingParameters</code>, etc.</li>
<li><code>Camera::retrieve*</code> functions now take a <code>Resolution</code> instead of height and width integers.</li>
<li><code>CalibrationParameters::getCameraBaseline()</code> has been added in the calibration parameters to access the distance between the left and right sensors (called the "baseline").</li>
<li>Adding <code>Mat::save()</code> function, replacing <code>SaveAs</code> functions</li>
<li>Added static function <code>Camera::reboot()</code> to perform a hardware reset of the camera. It simulates physically unplugging and replugging the camera. This feature is only available for ZED2.</li>
<li><code>ERROR_CODE_SENSOR_NOT_DETECTED</code> has been replaced with <code>ERROR_CODE::SENSORS_NOT_AVAILABLE</code> since the ZED2 contains multiple sensors (IMU, barometer, etc.).</li>
<li><code>ERROR_CODE_CAMERA_ALREADY_IN_USE</code> has been replaced by <code>ERROR_CODE::CANNOT_START_CAMERA_STREAM</code> to be more coherent with what actually happens; in most cases, it would the camera is being used by another process, but in rare case, a firewall or antivirus software can prevent the camera from starting. <br  />
</li>
</ul>
<h2><a class="anchor" id="autotoc_md513"></a>
Modules</h2>
<h3><a class="anchor" id="autotoc_md514"></a>
Video</h3>
<ul>
<li>Enum <code>CAMERA_SETTINGS</code> is renamed to <code>VIDEO_SETTINGS</code> to better reflect the module name.</li>
<li><code>Camera::setCameraSettings</code> now takes the enum and a value. Default values are enabled through an alias <code>VIDEO_SETTINGS_AUTO</code> (=-1)</li>
<li><code>CAMERA_SETTINGS_WHITEBALANCE</code> has been renamed in <code>VIDEO_SETTINGS::WHITEBALANCE_TEMPERATURE</code> since it controls the manually-adjustable color temperature of the camera.</li>
<li><code>CAMERA_SETTINGS_AUTO_WHITEBALANCE</code> has been changed to <code>VIDEO_SETTINGS::WHITEBALANCE_AUTO</code>. It only controls whether the camera will use automatic or manual white balance. If the manual mode is set, then the color temperature can be controlled with <code>VIDEO_SETTINGS::WHITEBALANCE_TEMPERATURE</code> Note that setting a value to <code>VIDEO_SETTINGS::WHITEBALANCE_TEMPERATURE</code> will automatically disable <code>VIDEO_SETTINGS::WHITEBALANCE_AUTO</code>.</li>
<li>Added <code>VIDEO_SETTINGS::AEC_AGC</code> to control if the Exposure/Gain are in automatic mode or not. This was previously mixed into the default value of Exposure or gain control and is now separated.</li>
<li>Added <code>VIDEO_SETTINGS::SHARPNESS</code>, a digital two-pass sharpening control that improves image quality.</li>
<li><code>Camera::getResolution</code> has been moved to <code>Camera::getCameraInformation().camera_resolution</code></li>
<li><code>Camera::getCameraFPS</code> has been moved to <code>Camera::getCameraInformation().camera_fps</code></li>
<li><code>MAT_TYPE</code> format enums are slightly modified to fit the new convention: <code>MAT_TYPE_32F_X</code> and <code>MAT_TYPE_8U_X</code> are now respectively <code>MAT_TYPE::F32_X</code> and <code>MAT_TYPE::U8_X</code>.</li>
<li>Added <code>InitParameters::image_enhancement</code> for a better image quality. Available for ZED,ZED-M and ZED2.</li>
</ul>
<h3><a class="anchor" id="autotoc_md515"></a>
Recording</h3>
<ul>
<li>Adding <code>RecordingParameters</code> struct (input of <code>enableRecording</code> function)</li>
<li><code>RecordingState</code> has been renamed into <code>RecordingStatus</code> for homogenization</li>
<li><code>Camera::record()</code> function has been removed:<ul>
<li><code>enableRecording()</code> will automatically start recording, and <code>disableRecording()</code> will stop it. <code>Camera::grab()</code> now contains the previous per-frame record function internally.</li>
<li>Added <code>getRecordingStatus()</code> to get info about the <code>RecordingStatus</code>.</li>
<li>Removed <code>isRecordingEnabled()</code> function, which is now merged with <code>getRecordingStatus</code>.</li>
</ul>
</li>
<li><code>SVO_COMPRESSION_MODE</code>:<ul>
<li><code>AVCHD</code> and <code>HEVC</code> have been renamed to <code>H264</code> and <code>H265</code>.</li>
<li>Removed deprecated <code>RAW</code> and <code>LOSSY</code> modes for recording in the SDK. ZED Explorer can still record in LOSSY mode if H264/H265 is not supported (ex: when not using an NVIDIA graphics card).</li>
</ul>
</li>
<li>Added pause recording function <code>pauseRecording()</code>.</li>
</ul>
<h3><a class="anchor" id="autotoc_md516"></a>
Streaming</h3>
<ul>
<li><code>STREAMING_CODEC</code>: <code>AVCHD</code> and <code>HEVC</code> are renamed into <code>H264</code> and <code>H265</code></li>
<li>Adding <code>StreamingParameters::chunk_size</code> attribute.</li>
</ul>
<h3><a class="anchor" id="autotoc_md517"></a>
Depth</h3>
<ul>
<li>DepthRange related parameters are moved into <code>InitParameters</code></li>
<li>DepthConfidence related parameters are moved into <code>RuntimeParameters</code></li>
<li><code>DEPTH_MODE_MEDIUM</code> has been removed. Use PERFOMANCE, QUALITY or ULTRA instead.</li>
</ul>
<h3><a class="anchor" id="autotoc_md518"></a>
Sensors</h3>
<ul>
<li>Added <code>SensorsData</code> class to store data from all non-image sensors present in the new ZED2, which includes <code>BarometerData</code>, <code>TemperatureData</code>, <code>MagnetometerData</code> and <code>IMUData</code>. It also includes <code>CAMERA_MOTION_STATE</code> to indicate if the camera is static/moving and if it's falling.</li>
<li><code>IMUData</code> is removed and replaced by <code>SensorsData</code>.</li>
<li><code>Camera::getIMUData()</code> is renamed into <code>getSensorsData</code> to reflect the class update</li>
</ul>
<h3><a class="anchor" id="autotoc_md519"></a>
Positional Tracking</h3>
<ul>
<li>Positional Tracking module functions have been renamed to include "positional" :<ul>
<li><code>Camera::enableTracking</code> -&gt; <code>Camera::enablePositionalTracking</code></li>
<li><code>Camera::disableTracking</code> -&gt; <code>Camera::disablePositionalTracking</code></li>
<li><code>Camera::resetTracking</code> -&gt; <code>Camera::resetPositionalTracking</code></li>
<li><code>Camera::isTrackingEnabled</code> -&gt; <code>Camera::isPositionalTrackingEnabled</code></li>
<li><code>TrackingParameters</code> -&gt; <code>PositionalTrackingParameters</code></li>
<li><code>TRACKING_STATE</code> -&gt; <code>POSITIONAL_TRACKING_STATE</code></li>
</ul>
</li>
<li><code>PositionalTrackingParameters::enable_spatial_memory</code> has been renamed to <code>enable_area_memory</code> to make the naming consistent with other references to this memory.</li>
<li>Rename <code>Camera::saveCurrentArea()</code> to <code>Camera::saveAreaMap()</code>.</li>
<li>Rename <code>AREA_EXPORT_STATE</code> to <code>AREA_EXPORTING_STATE</code>.</li>
</ul>
<h3><a class="anchor" id="autotoc_md520"></a>
Spatial Mapping</h3>
<ul>
<li><p class="startli">Removing all deprecated <em>Mesh</em> functions:</p><ol type="1">
<li><code>requestMeshAsync()</code></li>
<li><code>getMeshRequestStatusAsync()</code></li>
<li><code>retrieveMeshAsync()</code></li>
<li><code>extractWholeMesh()</code></li>
</ol>
<p class="startli">The overloaded <em>SpatialMap</em> functions, which include support for both <code>Mesh</code> and <code>FusedPointCloud</code>, should be used instead.</p>
</li>
<li><code>extractWholeSpatialMap</code> is now smarter. If a previously retrieved map is given as an argument, it only retrieves the updated difference.</li>
<li>Removing <code>Texture</code> class as it is redundant with a simple <code><a class="el" href="classsl_1_1Mat.html" title="The Mat class can handle multiple matrix formats from 1 to 4 channels, with different value types (fl...">sl::Mat</a></code></li>
</ul>
<h3><a class="anchor" id="autotoc_md521"></a>
Object Detection</h3>
<ul>
<li>New module that detects and tracks objects in 2D and 3D, such as people. Available only for ZED-M and ZED2 due to sensors requirements.</li>
<li>Added <code>enable/disableObjectDetection()</code> and <code>retrieveObjects()</code> functions.</li>
<li>Added <code>ObjectData</code> class to hold information about each detected object, such as 2D and 3D bounding boxes, tracking information, dimensions, and its 2D mask.</li>
<li>New <code>ERROR_CODE</code>:<ul>
<li><code>MODULE_NOT_COMPATIBLE_WITH_CAMERA</code></li>
<li><code>MOTION_SENSORS_REQUIRED</code></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md522"></a>
Tools</h2>
<ul>
<li>Adding ZEDSensorData tools to get a overwiew of all the sensors, expecially for ZED2.</li>
</ul>
<h2 style="text-align: left;">Conclusion</h2>
<p>Moving from ZED SDK 2.8 to 3.0 should be quick and easy, and brings many performance improvements along with its new features. For more information, take a look at our improved online documentation or contact our Support team at <a href="#" onclick="location.href='mai'+'lto:'+'sup'+'po'+'rt@'+'st'+'ere'+'ol'+'abs'+'.c'+'om'; return false;">suppo<span style="display: none;">.nosp@m.</span>rt@s<span style="display: none;">.nosp@m.</span>tereo<span style="display: none;">.nosp@m.</span>labs<span style="display: none;">.nosp@m.</span>.com</a>. We’d be happy to help you make the switch to 3.0. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
